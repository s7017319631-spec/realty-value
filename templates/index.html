<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ü–µ–Ω–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä - –ê—É–µ–∑–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding-bottom: 50px;
        }
        
        .navbar-brand {
            font-weight: bold;
            color: white !important;
        }
        
        .main-card {
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: none;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .card-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 20px;
        }
        
        .form-control, .form-select {
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            padding: 12px 15px;
            transition: all 0.3s;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--secondary);
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--secondary), #2980b9);
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        
        .result-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            display: none;
        }
        
        .price-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            text-align: center;
            margin: 20px 0;
        }
        
        .price-per-sqm {
            font-size: 1.2rem;
            color: #666;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .range-bar {
            height: 20px;
            background: linear-gradient(90deg, var(--success) 0%, var(--warning) 50%, var(--danger) 100%);
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
        }
        
        .range-marker {
            position: absolute;
            top: -25px;
            width: 2px;
            height: 30px;
            background: var(--primary);
        }
        
        .recommendation {
            background: #e8f4fc;
            border-left: 4px solid var(--secondary);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 30px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--secondary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .mobile-optimized {
            max-width: 100%;
            overflow-x: hidden;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .price-display {
                font-size: 2rem;
            }
            
            .main-card {
                margin: 10px;
                border-radius: 15px;
            }
            
            .btn-primary {
                width: 100%;
                padding: 15px;
            }
        }
        
        .info-badge {
            background: #e8f4fc;
            color: var(--secondary);
            padding: 10px 15px;
            border-radius: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: linear-gradient(135deg, var(--primary), var(--secondary));">
        <div class="container">
            <a class="navbar-brand" href="#">
                üè† –û—Ü–µ–Ω–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä
            </a>
            <span class="navbar-text ms-auto d-none d-md-block">
                –ê—É–µ–∑–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω, –ê–ª–º–∞—Ç—ã
            </span>
        </div>
    </nav>

    <div class="container mobile-optimized">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-10">
                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
                <div class="card main-card">
                    <div class="card-header text-center">
                        <h3 class="mb-0">üìä –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ 2-–∫–æ–º–Ω–∞—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã </h3>
                        <p class="mb-0 mt-2 opacity-75">–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ - –Ω–µ —Ä–∞–Ω–µ–µ 1990 –≥–æ–¥–∞</p>
                        <p class="mb-0 mt-2 opacity-75">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏</p>
                    </div>
                    
                    <div class="card-body p-4">
                        <!-- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ -->
                        <form id="predictionForm">
                            <div class="row g-3">
                                <!-- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è -->
                                <div class="col-md-6">
                                    <label class="form-label">–û–±—â–∞—è –ø–ª–æ—â–∞–¥—å (–º¬≤) *</label>
                                    <input type="number" class="form-control" id="area_total" 
                                           min="30" max="100" step="0.1" value="55" required>
                                    <div class="form-text">–î–ª—è 2-–∫–æ–º–Ω–∞—Ç–Ω—ã—Ö: 45-65 –º¬≤</div>
                                </div>
                                
                                <div class="col-md-6">
                                    <label class="form-label">–í—ã—Å–æ—Ç–∞ –ø–æ—Ç–æ–ª–∫–æ–≤ (–º)</label>
                                    <input type="number" class="form-control" id="ceiling_height" 
                                           min="2.0" max="3.5" step="0.1" value="2.7">
                                </div>
                                
                                <div class="col-md-6">
                                    <label class="form-label">–≠—Ç–∞–∂ –∫–≤–∞—Ä—Ç–∏—Ä—ã *</label>
                                    <input type="number" class="form-control" id="floor" 
                                           min="1" max="30" value="3" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label class="form-label">–í—Å–µ–≥–æ —ç—Ç–∞–∂–µ–π –≤ –¥–æ–º–µ *</label>
                                    <input type="number" class="form-control" id="total_floors" 
                                           min="1" max="30" value="9" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label class="form-label">–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ *</label>
                                    <input type="number" class="form-control" id="year_build" 
                                           min="1990" max="2024" value="2010" required>
                                </div>
                                
                                <div class="col-md-6">
                                    <label class="form-label">–¢–∏–ø –¥–æ–º–∞ *</label>
                                    <select class="form-select" id="building_type" required>
                                        <option value="–ø–∞–Ω–µ–ª—å–Ω—ã–π" selected>–ü–∞–Ω–µ–ª—å–Ω—ã–π</option>
                                        <option value="–º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π">–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π</option>
                                        <option value="–∫–∏—Ä–ø–∏—á–Ω—ã–π">–ö–∏—Ä–ø–∏—á–Ω—ã–π</option>
                                        <option value="–∫–∞—Ä–∫–∞—Å–Ω–æ-–∫–∞–º—ã—à–∏—Ç–æ–≤—ã–π">–ö–∞—Ä–∫–∞—Å–Ω–æ-–∫–∞–º—ã—à–∏—Ç–æ–≤—ã–π</option>
                                        <option value="–∏–Ω–æ–µ">–ò–Ω–æ–µ</option>
                                    </select>
                                </div>
                                
                                <!-- –ê–¥—Ä–µ—Å -->
                                <div class="col-12">
                                    <label class="form-label">–ê–¥—Ä–µ—Å (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω–∞)</label>
                                    <input type="text" class="form-control" id="address_short" 
                                           placeholder="–º–∫—Ä. –ú–∞–º—ã—Ä-4, —É–ª. –¢–æ–ª–µ –±–∏">
                                    <div class="form-text">–£–∫–∞–∂–∏—Ç–µ –¥–ª—è —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –ø–æ –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω—É</div>
                                </div>
                                
                                <!-- –ò–Ω—Ñ–æ-–±–µ–π–¥–∂ -->
                                <div class="col-12">
                                    <div class="info-badge">
                                        <small>üí° <strong>–ü–æ–ª—è –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ * –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</strong></small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ü–µ–Ω–∫–∏ -->
                            <div class="text-center mt-4">
                                <button type="button" class="btn btn-primary btn-lg" onclick="calculate()">
                                    üßÆ –û—Ü–µ–Ω–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
                                </button>
                            </div>
                        </form>
                        
                        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
                        <div class="loading" id="loadingIndicator">
                            <div class="spinner"></div>
                            <p>–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Ü–µ–Ω–∫–∞...</p>
                        </div>
                        
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
                        <div class="result-card" id="resultCard">
                            <div class="text-center mb-4">
                                <h4 class="text-success">‚úÖ –û–¶–ï–ù–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê</h4>
                                <p class="text-muted" id="resultTimestamp"></p>
                            </div>
                            
                            <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–∞ -->
                            <div class="price-display" id="totalPrice"></div>
                            <div class="price-per-sqm" id="pricePerSqm"></div>
                            
                            <!-- –î–∏–∞–ø–∞–∑–æ–Ω –æ—Ü–µ–Ω–∫–∏ -->
                            <div class="mb-4">
                                <h6>üìà –î–∏–∞–ø–∞–∑–æ–Ω –æ—Ü–µ–Ω–∫–∏:</h6>
                                <div class="range-bar">
                                    <div class="range-marker" id="rangeMarker"></div>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <small id="rangeMin"></small>
                                    <small id="rangeMax"></small>
                                </div>
                                <div class="text-center mt-2">
                                    <small class="text-muted" id="rangeNote"></small>
                                </div>
                            </div>
                            
                            <!-- –î–µ—Ç–∞–ª–∏ -->
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h6>üìç –ú–∏–∫—Ä–æ—Ä–∞–π–æ–Ω</h6>
                                            <p class="mb-1" id="microdistrictInfo">–ù–µ —É–∫–∞–∑–∞–Ω</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h6>‚ö†Ô∏è –°–µ–π—Å–º–∏—á–µ—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h6>
                                            <p class="mb-1" id="seismicInfo">–û—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
                            <div class="recommendation" id="recommendation">
                                <h6>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h6>
                                <p id="recommendationText">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π...</p>
                            </div>
                            
                            <!-- –ö–Ω–æ–ø–∫–∞ –Ω–æ–≤–æ–π –æ—Ü–µ–Ω–∫–∏ -->
                            <div class="text-center mt-4">
                                <button type="button" class="btn btn-outline-primary" onclick="resetForm()">
                                    üîÑ –ù–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω–∞—Ö -->
                <div class="card mt-3 border-0 shadow-sm">
                    <div class="card-body">
                        <h6>üèòÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω—ã –ê—É–µ–∑–æ–≤—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞:</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="mb-0">
                                    <li>–ú–∞–º—ã—Ä (1-7)</li>
                                    <li>–ñ–µ—Ç—ã—Å—É (1-4)</li>
                                    <li>–ê–∫—Å–∞–π (1-5)</li>
                                    <li>–®–∞–Ω—ã—Ä–∞–∫ (1-5)</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="mb-0">
                                    <li>–®–∫–æ–ª—å–Ω—ã–π, –ê—Å—Ç–∞–Ω–∞</li>
                                    <li>–î—É–±–æ–∫, –¢–∞—É–≥—É–ª—å</li>
                                    <li>–°–∞–π—Ä–∞–Ω, –ë–∞—è–Ω-–ê—É–ª</li>
                                    <li>–ê–π–≥–µ—Ä–∏–º, –ö–∏—Ä–æ–≤–æ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        async function calculate() {
            // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç
            const loadingEl = document.getElementById('loading');
            const resultEl = document.getElementById('result');
            
            if (loadingEl) {
                loadingEl.style.display = 'block';
            }
            
            if (resultEl) {
                resultEl.style.display = 'none';
                resultEl.innerHTML = ''; // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            }
            
            try {
                // –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
                const data = {
                    area_total: parseFloat(document.getElementById('area_total').value) || 50,
                    floor: parseInt(document.getElementById('floor').value) || 5,
                    total_floors: parseInt(document.getElementById('total_floors').value) || 9,
                    year_build: parseInt(document.getElementById('year_build').value) || 2015,
                    building_type: document.getElementById('building_type').value || '–º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π'
                };
                
                // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
                const roomsInput = document.getElementById('rooms');
                const microdistrictInput = document.getElementById('microdistrict');
                
                if (roomsInput && roomsInput.value) data.rooms = parseInt(roomsInput.value);
                if (microdistrictInput && microdistrictInput.value) data.microdistrict = microdistrictInput.value;
                
                console.log('üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ:', data);
                
                // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
                const response = await fetch('/api/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP –æ—à–∏–±–∫–∞ ${response.status}: ${response.statusText}`);
                }
                
                const result = await response.json();
                console.log('üì• –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç:', result);
                
                // –°–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
                if (loadingEl) loadingEl.style.display = 'none';
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                if (result.success) {
                    if (resultEl) {
                        // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —á–∏—Å–ª–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á
                        const formatNumber = (num) => {
                            return new Intl.NumberFormat('ru-RU').format(Math.round(num));
                        };
                        
                        let resultHTML = `
                            <h3>‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏:</h3>
                            <p><strong>–¶–µ–Ω–∞ –∑–∞ –º¬≤:</strong> ${formatNumber(result.price_per_sqm)} ‚Ç∏</p>
                            <p><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${formatNumber(result.total_price)} ‚Ç∏</p>
                        `;
                        
                        if (result.confidence_interval) {
                            resultHTML += `
                                <p><strong>–î–∏–∞–ø–∞–∑–æ–Ω:</strong> ${formatNumber(result.confidence_interval.lower)} - ${formatNumber(result.confidence_interval.upper)} ‚Ç∏</p>
                            `;
                        }
                        
                        if (result.model_mode) {
                            resultHTML += `<p><strong>–†–µ–∂–∏–º –º–æ–¥–µ–ª–∏:</strong> ${result.model_mode}</p>`;
                        }
                        
                        if (result.note) {
                            resultHTML += `<p><em>${result.note}</em></p>`;
                        }
                        
                        resultEl.innerHTML = resultHTML;
                        resultEl.style.display = 'block';
                    } else {
                        alert(`‚úÖ –û—Ü–µ–Ω–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\n–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${result.total_price} ‚Ç∏`);
                    }
                } else {
                    const errorMsg = result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞';
                    if (resultEl) {
                        resultEl.innerHTML = `
                            <h3>‚ùå –û—à–∏–±–∫–∞:</h3>
                            <p>${errorMsg}</p>
                        `;
                        resultEl.style.display = 'block';
                    } else {
                        alert(`–û—à–∏–±–∫–∞: ${errorMsg}`);
                    }
                }
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ calculate:', error);
                
                // –°–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
                if (loadingEl) loadingEl.style.display = 'none';
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
                if (resultEl) {
                    resultEl.innerHTML = `
                        <h3>‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</h3>
                        <p>${error.message}</p>
                        <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:</p>
                        <ul>
                            <li>–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–µ—Ä?</li>
                            <li>–ï—Å—Ç—å –ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ?</li>
                        </ul>
                    `;
                    resultEl.style.display = 'block';
                } else {
                    alert(`–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ${error.message}\n\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–µ—Ä Flask.`);
                }
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Ñ–æ—Ä–º—ã
        function resetForm() {
            document.getElementById('predictionForm').reset();
            document.getElementById('resultCard').style.display = 'none';
            document.getElementById('address_short').value = '';
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –∫ –Ω–∞—á–∞–ª—É
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π
        document.querySelectorAll('input, select').forEach(element => {
            element.addEventListener('change', function() {
                // –°–∫—Ä—ã—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                document.getElementById('resultCard').style.display = 'none';
            });
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', async () => {
            try {
                const response = await fetch('/api/health');
                const data = await response.json();
                console.log('API —Å—Ç–∞—Ç—É—Å:', data.status);
            } catch (error) {
                console.warn('API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º');
            }
        });
        
        // PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
                    })
                    .catch(error => {
                        console.log('ServiceWorker –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', error);
                    });
            });
        }
    </script>
</body>
</html>